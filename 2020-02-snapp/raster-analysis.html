<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>18 Raster Analysis | Data Science and Collaboration Skills for Integrative Conservation Science</title>
  <meta name="description" content="18 Raster Analysis | Data Science and Collaboration Skills for Integrative Conservation Science" />
  <meta name="generator" content="bookdown 0.17.2 and GitBook 2.6.7" />

  <meta property="og:title" content="18 Raster Analysis | Data Science and Collaboration Skills for Integrative Conservation Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="18 Raster Analysis | Data Science and Collaboration Skills for Integrative Conservation Science" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="spatial-vector-analysis-using-sf.html"/>
<link rel="next" href="finding-help.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.12/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Data Science and Collaboration Skills for Integrative Conservation Science</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>1.1</b> Schedule</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>1.1.1</b> Code of Conduct</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i><b>2</b> Motivation</a><ul>
<li class="chapter" data-level="2.1" data-path="motivation.html"><a href="motivation.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="motivation.html"><a href="motivation.html#reproducible-research"><i class="fa fa-check"></i><b>2.2</b> Reproducible Research</a><ul>
<li class="chapter" data-level="2.2.1" data-path="motivation.html"><a href="motivation.html#what-is-needed-for-computational-reproducibility"><i class="fa fa-check"></i><b>2.2.1</b> What is needed for computational reproducibility?</a></li>
<li class="chapter" data-level="2.2.2" data-path="motivation.html"><a href="motivation.html#conceptualizing-workflows"><i class="fa fa-check"></i><b>2.2.2</b> Conceptualizing workflows</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="motivation.html"><a href="motivation.html#how-can-version-control-help"><i class="fa fa-check"></i><b>2.3</b> How can version control help?</a><ul>
<li class="chapter" data-level="2.3.1" data-path="motivation.html"><a href="motivation.html#the-problem-with-renaming-files"><i class="fa fa-check"></i><b>2.3.1</b> The problem with renaming files</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="motivation.html"><a href="motivation.html#collaborative-research"><i class="fa fa-check"></i><b>2.4</b> Collaborative Research</a><ul>
<li class="chapter" data-level="2.4.1" data-path="motivation.html"><a href="motivation.html#using-shared-folders-for-data-sets"><i class="fa fa-check"></i><b>2.4.1</b> Using Shared Folders for Data Sets</a></li>
<li class="chapter" data-level="2.4.2" data-path="motivation.html"><a href="motivation.html#using-git-and-github-for-codes"><i class="fa fa-check"></i><b>2.4.2</b> Using git and GitHub for Codes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html"><i class="fa fa-check"></i><b>3</b> Working on a Remote Machine</a><ul>
<li class="chapter" data-level="3.1" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#learning-objectives-1"><i class="fa fa-check"></i><b>3.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#why-working-on-a-remote-machine"><i class="fa fa-check"></i><b>3.2</b> Why working on a remote machine?</a><ul>
<li class="chapter" data-level="3.2.1" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#nceas-analytical-server"><i class="fa fa-check"></i><b>3.2.1</b> NCEAS analytical server</a></li>
<li class="chapter" data-level="3.2.2" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#working-group-collaborative-setup"><i class="fa fa-check"></i><b>3.2.2</b> Working Group / Collaborative Setup</a></li>
<li class="chapter" data-level="3.2.3" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#what-does-working-on-a-remote-server-means"><i class="fa fa-check"></i><b>3.2.3</b> What does working on a remote server means?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#rstudio-server"><i class="fa fa-check"></i><b>3.3</b> RStudio Server</a><ul>
<li class="chapter" data-level="3.3.1" data-path="working-on-a-remote-machine.html"><a href="working-on-a-remote-machine.html#connecting-to-nceas-analytical-server"><i class="fa fa-check"></i><b>3.3.1</b> Connecting to NCEAS Analytical Server</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html"><i class="fa fa-check"></i><b>4</b> RStudio and Git Setup</a><ul>
<li class="chapter" data-level="4.1" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#checking-the-rstudio-environment"><i class="fa fa-check"></i><b>4.1</b> Checking the RStudio environment</a><ul>
<li class="chapter" data-level="4.1.1" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#r-version"><i class="fa fa-check"></i><b>4.1.1</b> R Version</a></li>
<li class="chapter" data-level="4.1.2" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#rstudio-version"><i class="fa fa-check"></i><b>4.1.2</b> RStudio Version</a></li>
<li class="chapter" data-level="4.1.3" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#package-installation"><i class="fa fa-check"></i><b>4.1.3</b> Package installation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#setting-up-git"><i class="fa fa-check"></i><b>4.2</b> Setting up git</a></li>
<li class="chapter" data-level="4.3" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#other-thoughts"><i class="fa fa-check"></i><b>4.3</b> Other Thoughts</a><ul>
<li class="chapter" data-level="4.3.1" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#linking-git-and-rstudio"><i class="fa fa-check"></i><b>4.3.1</b> Linking git and RStudio</a></li>
<li class="chapter" data-level="4.3.2" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#note-for-windows-users"><i class="fa fa-check"></i><b>4.3.2</b> Note for Windows Users</a></li>
<li class="chapter" data-level="4.3.3" data-path="rstudio-and-git-setup.html"><a href="rstudio-and-git-setup.html#updating-a-previous-r-installation"><i class="fa fa-check"></i><b>4.3.3</b> Updating a previous R installation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html"><i class="fa fa-check"></i><b>5</b> Introduction to R and RMarkdown</a><ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#learning-objectives-2"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#introduction-and-motivation"><i class="fa fa-check"></i><b>5.2</b> Introduction and Motivation</a><ul>
<li class="chapter" data-level="5.2.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#resources"><i class="fa fa-check"></i><b>5.2.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#r-at-the-console"><i class="fa fa-check"></i><b>5.3</b> R at the console</a><ul>
<li class="chapter" data-level="5.3.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#error-messages-are-your-friends"><i class="fa fa-check"></i><b>5.3.1</b> Error messages are your friends</a></li>
<li class="chapter" data-level="5.3.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#logical-operators-and-expressions"><i class="fa fa-check"></i><b>5.3.2</b> Logical operators and expressions</a></li>
<li class="chapter" data-level="5.3.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#clearing-the-environment"><i class="fa fa-check"></i><b>5.3.3</b> Clearing the environment</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#rmarkdown"><i class="fa fa-check"></i><b>5.4</b> RMarkdown</a><ul>
<li class="chapter" data-level="5.4.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn"><i class="fa fa-check"></i><b>5.4.1</b> Your Turn</a></li>
<li class="chapter" data-level="5.4.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#code-chunks"><i class="fa fa-check"></i><b>5.4.2</b> Code chunks</a></li>
<li class="chapter" data-level="5.4.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn-1"><i class="fa fa-check"></i><b>5.4.3</b> Your turn</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#r-functions-help-pages"><i class="fa fa-check"></i><b>5.5</b> R functions, help pages</a><ul>
<li class="chapter" data-level="5.5.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#a-simple-example"><i class="fa fa-check"></i><b>5.5.1</b> A simple example</a></li>
<li class="chapter" data-level="5.5.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#getting-help"><i class="fa fa-check"></i><b>5.5.2</b> Getting help</a></li>
<li class="chapter" data-level="5.5.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn-2"><i class="fa fa-check"></i><b>5.5.3</b> Your turn</a></li>
<li class="chapter" data-level="5.5.4" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#use-a-function-to-read-a-file-into-r"><i class="fa fa-check"></i><b>5.5.4</b> Use a function to read a file into R</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#using-data.frames"><i class="fa fa-check"></i><b>5.6</b> Using <code>data.frames</code></a><ul>
<li class="chapter" data-level="5.6.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#your-turn-3"><i class="fa fa-check"></i><b>5.6.1</b> Your Turn</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#troubleshooting"><i class="fa fa-check"></i><b>5.7</b> Troubleshooting</a><ul>
<li class="chapter" data-level="5.7.1" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#my-rmarkdown-wont-knit-to-pdf"><i class="fa fa-check"></i><b>5.7.1</b> My RMarkdown won’t knit to PDF</a></li>
<li class="chapter" data-level="5.7.2" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#i-just-entered-a-command-and-nothing-is-happening"><i class="fa fa-check"></i><b>5.7.2</b> I just entered a command and nothing is happening</a></li>
<li class="chapter" data-level="5.7.3" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#r-says-my-object-is-not-found"><i class="fa fa-check"></i><b>5.7.3</b> R says my object is not found</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#literate-analysis"><i class="fa fa-check"></i><b>5.8</b> Literate Analysis</a></li>
<li class="chapter" data-level="5.9" data-path="introduction-to-r-and-rmarkdown.html"><a href="introduction-to-r-and-rmarkdown.html#exercise"><i class="fa fa-check"></i><b>5.9</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html"><i class="fa fa-check"></i><b>6</b> Version Control with git and GitHub</a><ul>
<li class="chapter" data-level="6.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#learning-objectives-3"><i class="fa fa-check"></i><b>6.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#the-problem-with-save_as"><i class="fa fa-check"></i><b>6.2</b> The problem with “save_as”</a></li>
<li class="chapter" data-level="6.3" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#git"><i class="fa fa-check"></i><b>6.3</b> git</a></li>
<li class="chapter" data-level="6.4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#first-repository"><i class="fa fa-check"></i><b>6.4</b> First Repository</a><ul>
<li class="chapter" data-level="6.4.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#github"><i class="fa fa-check"></i><b>6.4.1</b> GitHub</a></li>
<li class="chapter" data-level="6.4.2" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#lets-look-at-a-repository-on-github"><i class="fa fa-check"></i><b>6.4.2</b> Let’s look at a repository on GitHub</a></li>
<li class="chapter" data-level="6.4.3" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#creating-a-repository-on-github"><i class="fa fa-check"></i><b>6.4.3</b> Creating a Repository on GitHub</a></li>
<li class="chapter" data-level="6.4.4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#first-commit"><i class="fa fa-check"></i><b>6.4.4</b> First commit</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#getting-a-local-copy-of-a-repository"><i class="fa fa-check"></i><b>6.5</b> Getting a Local Copy of a Repository</a></li>
<li class="chapter" data-level="6.6" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#tracking-file-changes-with-git"><i class="fa fa-check"></i><b>6.6</b> Tracking File Changes with <code>git</code></a><ul>
<li class="chapter" data-level="6.6.1" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#basic-workflow-overview"><i class="fa fa-check"></i><b>6.6.1</b> Basic Workflow Overview</a></li>
<li class="chapter" data-level="6.6.2" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#using-git-from-rstudio"><i class="fa fa-check"></i><b>6.6.2</b> Using git from RStudio</a></li>
<li class="chapter" data-level="6.6.3" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#looking-at-the-repository-history"><i class="fa fa-check"></i><b>6.6.3</b> Looking at the Repository History</a></li>
<li class="chapter" data-level="6.6.4" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#sending-changes-back-to-github"><i class="fa fa-check"></i><b>6.6.4</b> Sending changes back to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#collaboration-and-conflict-free-workflows"><i class="fa fa-check"></i><b>6.7</b> Collaboration and conflict free workflows</a></li>
<li class="chapter" data-level="6.8" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#exercise-1"><i class="fa fa-check"></i><b>6.8</b> Exercise</a></li>
<li class="chapter" data-level="6.9" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#advanced-topics"><i class="fa fa-check"></i><b>6.9</b> Advanced topics</a></li>
<li class="chapter" data-level="6.10" data-path="version-control-with-git-and-github.html"><a href="version-control-with-git-and-github.html#references"><i class="fa fa-check"></i><b>6.10</b> References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html"><i class="fa fa-check"></i><b>7</b> Git: Collaboration and Conflict Management</a><ul>
<li class="chapter" data-level="7.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#learning-objectives-4"><i class="fa fa-check"></i><b>7.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#collaborating-with-git"><i class="fa fa-check"></i><b>7.2</b> Collaborating with Git</a><ul>
<li class="chapter" data-level="7.2.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#activity-collaborating-with-a-trusted-colleague"><i class="fa fa-check"></i><b>7.2.1</b> Activity: Collaborating with a trusted colleague</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#merge-conflicts"><i class="fa fa-check"></i><b>7.3</b> Merge conflicts</a></li>
<li class="chapter" data-level="7.4" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#how-to-resolve-a-conflict"><i class="fa fa-check"></i><b>7.4</b> How to resolve a conflict</a><ul>
<li class="chapter" data-level="7.4.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#abort-abort-abort"><i class="fa fa-check"></i><b>7.4.1</b> Abort, abort, abort…</a></li>
<li class="chapter" data-level="7.4.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#checkout"><i class="fa fa-check"></i><b>7.4.2</b> Checkout</a></li>
<li class="chapter" data-level="7.4.3" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#pull-and-edit-the-file"><i class="fa fa-check"></i><b>7.4.3</b> Pull and edit the file</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#workflows-to-avoid-merge-conflicts"><i class="fa fa-check"></i><b>7.5</b> Workflows to avoid merge conflicts</a></li>
<li class="chapter" data-level="7.6" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#other-collaborative-workflows-with-github"><i class="fa fa-check"></i><b>7.6</b> Other Collaborative Workflows with <code>GitHub</code></a><ul>
<li class="chapter" data-level="7.6.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#collaborating-through-forking-aka-the-github-workflow"><i class="fa fa-check"></i><b>7.6.1</b> Collaborating through Forking, aka the GitHub workflow</a></li>
<li class="chapter" data-level="7.6.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#collaborating-through-write-push-access"><i class="fa fa-check"></i><b>7.6.2</b> Collaborating through write / push access</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#working-with-branches"><i class="fa fa-check"></i><b>7.7</b> Working with branches</a><ul>
<li class="chapter" data-level="7.7.1" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#creating-a-new-branch"><i class="fa fa-check"></i><b>7.7.1</b> Creating a new branch</a></li>
<li class="chapter" data-level="7.7.2" data-path="git-collaboration-and-conflict-management.html"><a href="git-collaboration-and-conflict-management.html#using-a-branch"><i class="fa fa-check"></i><b>7.7.2</b> Using a branch</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html"><i class="fa fa-check"></i><b>8</b> Linux and the Command Line</a><ul>
<li class="chapter" data-level="8.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#introduction-to-unix-and-its-siblings"><i class="fa fa-check"></i><b>8.1</b> Introduction to UNIX and its siblings</a><ul>
<li class="chapter" data-level="8.1.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#various-unices"><i class="fa fa-check"></i><b>8.1.1</b> Various Unices</a></li>
<li class="chapter" data-level="8.1.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#some-unix-hallmarks"><i class="fa fa-check"></i><b>8.1.2</b> Some Unix hallmarks</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#the-command-line-interface-cli"><i class="fa fa-check"></i><b>8.2</b> The Command Line Interface (CLI)</a><ul>
<li class="chapter" data-level="8.2.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#why-the-cli-is-worth-learning"><i class="fa fa-check"></i><b>8.2.1</b> Why the CLI is worth learning</a></li>
<li class="chapter" data-level="8.2.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#connecting-to-a-remote-server-via-ssh"><i class="fa fa-check"></i><b>8.2.2</b> Connecting to a remote server via <code>ssh</code></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#navigating-and-managing-filesdirectories-in-nix"><i class="fa fa-check"></i><b>8.3</b> Navigating and managing files/directories in *NIX</a><ul>
<li class="chapter" data-level="8.3.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#permissions"><i class="fa fa-check"></i><b>8.3.1</b> Permissions</a></li>
<li class="chapter" data-level="8.3.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#exercise-2"><i class="fa fa-check"></i><b>8.3.2</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#general-command-syntax"><i class="fa fa-check"></i><b>8.4</b> General command syntax</a><ul>
<li class="chapter" data-level="8.4.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#find"><i class="fa fa-check"></i><b>8.4.1</b> find</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#getting-things-done"><i class="fa fa-check"></i><b>8.5</b> Getting things done</a><ul>
<li class="chapter" data-level="8.5.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#some-useful-special-commands-using-the-control-key"><i class="fa fa-check"></i><b>8.5.1</b> Some useful, special commands using the Control key</a></li>
<li class="chapter" data-level="8.5.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#process-management"><i class="fa fa-check"></i><b>8.5.2</b> Process management</a></li>
<li class="chapter" data-level="8.5.3" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#what-about-space"><i class="fa fa-check"></i><b>8.5.3</b> What about “space”</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#uploading-files"><i class="fa fa-check"></i><b>8.6</b> Uploading Files</a><ul>
<li class="chapter" data-level="8.6.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#rstudio"><i class="fa fa-check"></i><b>8.6.1</b> RStudio</a></li>
<li class="chapter" data-level="8.6.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#sftp-software"><i class="fa fa-check"></i><b>8.6.2</b> sFTP Software</a></li>
<li class="chapter" data-level="8.6.3" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#scp"><i class="fa fa-check"></i><b>8.6.3</b> scp</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#advanced-topics-1"><i class="fa fa-check"></i><b>8.7</b> Advanced Topics:</a><ul>
<li class="chapter" data-level="8.7.1" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#unix-systems-are-multi-user"><i class="fa fa-check"></i><b>8.7.1</b> Unix systems are multi-user</a></li>
<li class="chapter" data-level="8.7.2" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#a-sampling-of-simple-commands-for-dealing-with-files"><i class="fa fa-check"></i><b>8.7.2</b> A sampling of simple commands for dealing with files</a></li>
<li class="chapter" data-level="8.7.3" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#all-files-have-permissions-and-ownership"><i class="fa fa-check"></i><b>8.7.3</b> All files have permissions and ownership</a></li>
<li class="chapter" data-level="8.7.4" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#getting-help-1"><i class="fa fa-check"></i><b>8.7.4</b> Getting help</a></li>
<li class="chapter" data-level="8.7.5" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#history"><i class="fa fa-check"></i><b>8.7.5</b> History</a></li>
<li class="chapter" data-level="8.7.6" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#get-into-the-flow-with-pipes"><i class="fa fa-check"></i><b>8.7.6</b> Get into the flow, with pipes</a></li>
<li class="chapter" data-level="8.7.7" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#text-editing"><i class="fa fa-check"></i><b>8.7.7</b> Text editing</a></li>
<li class="chapter" data-level="8.7.8" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#create-custom-commands-with-alias"><i class="fa fa-check"></i><b>8.7.8</b> Create custom commands with “alias”</a></li>
<li class="chapter" data-level="8.7.9" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#a-sampling-of-more-advanced-utilities"><i class="fa fa-check"></i><b>8.7.9</b> A sampling of more advanced utilities</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="linux-and-the-command-line.html"><a href="linux-and-the-command-line.html#online-resources"><i class="fa fa-check"></i><b>8.8</b> Online resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html"><i class="fa fa-check"></i><b>9</b> Data Modeling &amp; Tidy Data</a><ul>
<li class="chapter" data-level="9.1" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#learning-objectives-5"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#benefits-of-relational-data-systems"><i class="fa fa-check"></i><b>9.2</b> Benefits of relational data systems</a></li>
<li class="chapter" data-level="9.3" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#data-organization"><i class="fa fa-check"></i><b>9.3</b> Data Organization</a></li>
<li class="chapter" data-level="9.4" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#multiple-tables"><i class="fa fa-check"></i><b>9.4</b> Multiple tables</a></li>
<li class="chapter" data-level="9.5" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#inconsistent-observations"><i class="fa fa-check"></i><b>9.5</b> Inconsistent observations</a></li>
<li class="chapter" data-level="9.6" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#inconsistent-variables"><i class="fa fa-check"></i><b>9.6</b> Inconsistent variables</a></li>
<li class="chapter" data-level="9.7" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#marginal-sums-and-statistics"><i class="fa fa-check"></i><b>9.7</b> Marginal sums and statistics</a></li>
<li class="chapter" data-level="9.8" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#good-enough-data-modeling"><i class="fa fa-check"></i><b>9.8</b> Good enough data modeling</a><ul>
<li class="chapter" data-level="9.8.1" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#denormalized-data"><i class="fa fa-check"></i><b>9.8.1</b> Denormalized data</a></li>
<li class="chapter" data-level="9.8.2" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#tabular-data"><i class="fa fa-check"></i><b>9.8.2</b> Tabular data</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#primary-and-foreign-keys"><i class="fa fa-check"></i><b>9.9</b> Primary and Foreign Keys</a></li>
<li class="chapter" data-level="9.10" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#entity-relationship-model-er"><i class="fa fa-check"></i><b>9.10</b> Entity-Relationship Model (ER)</a></li>
<li class="chapter" data-level="9.11" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#merging-data"><i class="fa fa-check"></i><b>9.11</b> Merging data</a></li>
<li class="chapter" data-level="9.12" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#simple-guidelines-for-effective-data"><i class="fa fa-check"></i><b>9.12</b> Simple Guidelines for Effective Data</a></li>
<li class="chapter" data-level="9.13" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#data-modeling-exercise"><i class="fa fa-check"></i><b>9.13</b> Data modeling exercise</a></li>
<li class="chapter" data-level="9.14" data-path="data-modeling-tidy-data.html"><a href="data-modeling-tidy-data.html#related-resources"><i class="fa fa-check"></i><b>9.14</b> Related resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html"><i class="fa fa-check"></i><b>10</b> Data Cleaning and Manipulation</a><ul>
<li class="chapter" data-level="10.1" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#learning-objectives-6"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#introduction"><i class="fa fa-check"></i><b>10.2</b> Introduction</a></li>
<li class="chapter" data-level="10.3" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#setup"><i class="fa fa-check"></i><b>10.3</b> Setup</a></li>
<li class="chapter" data-level="10.4" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#about-the-pipe-operator"><i class="fa fa-check"></i><b>10.4</b> About the pipe (<code>%&gt;%</code>) operator</a></li>
<li class="chapter" data-level="10.5" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#selectingremoving-columns-select"><i class="fa fa-check"></i><b>10.5</b> Selecting/removing columns: <code>select()</code></a></li>
<li class="chapter" data-level="10.6" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#quality-check"><i class="fa fa-check"></i><b>10.6</b> Quality Check</a></li>
<li class="chapter" data-level="10.7" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#changing-column-content-mutate"><i class="fa fa-check"></i><b>10.7</b> Changing column content: <code>mutate()</code></a></li>
<li class="chapter" data-level="10.8" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#changing-shape-pivot_longer-and-pivot_wider"><i class="fa fa-check"></i><b>10.8</b> Changing shape: <code>pivot_longer()</code> and <code>pivot_wider()</code></a></li>
<li class="chapter" data-level="10.9" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#renaming-columns-with-rename"><i class="fa fa-check"></i><b>10.9</b> Renaming columns with <code>rename()</code></a></li>
<li class="chapter" data-level="10.10" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#adding-columns-mutate"><i class="fa fa-check"></i><b>10.10</b> Adding columns: <code>mutate()</code></a></li>
<li class="chapter" data-level="10.11" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#group_by-and-summarise"><i class="fa fa-check"></i><b>10.11</b> <code>group_by</code> and <code>summarise</code></a></li>
<li class="chapter" data-level="10.12" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#filtering-rows-filter"><i class="fa fa-check"></i><b>10.12</b> Filtering rows: <code>filter()</code></a></li>
<li class="chapter" data-level="10.13" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#sorting-your-data-arrange"><i class="fa fa-check"></i><b>10.13</b> Sorting your data: <code>arrange()</code></a></li>
<li class="chapter" data-level="10.14" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#joins-in-dplyr"><i class="fa fa-check"></i><b>10.14</b> Joins in dplyr</a></li>
<li class="chapter" data-level="10.15" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#separate-and-unite"><i class="fa fa-check"></i><b>10.15</b> <code>separate()</code> and <code>unite()</code></a></li>
<li class="chapter" data-level="10.16" data-path="data-cleaning-and-manipulation.html"><a href="data-cleaning-and-manipulation.html#summary"><i class="fa fa-check"></i><b>10.16</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html"><i class="fa fa-check"></i><b>11</b> Collaboration: Designing and facilitating effective meetings</a><ul>
<li class="chapter" data-level="11.1" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#learning-objectives-7"><i class="fa fa-check"></i><b>11.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#what-makes-meetings-effective"><i class="fa fa-check"></i><b>11.2</b> What makes meetings effective?</a></li>
<li class="chapter" data-level="11.3" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#designing-for-successful-team-science-meetings"><i class="fa fa-check"></i><b>11.3</b> Designing for successful team science meetings</a></li>
<li class="chapter" data-level="11.4" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#sharing-the-load-of-effective-meeting-facilitation"><i class="fa fa-check"></i><b>11.4</b> Sharing the load of effective meeting facilitation</a></li>
<li class="chapter" data-level="11.5" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#creating-the-conditions-for-quality-participation"><i class="fa fa-check"></i><b>11.5</b> Creating the conditions for quality participation</a></li>
<li class="chapter" data-level="11.6" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#techniques-for-democratizing-participation"><i class="fa fa-check"></i><b>11.6</b> Techniques for democratizing participation</a></li>
<li class="chapter" data-level="11.7" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#the-groan-zone-aka-the-diamond-participation-model"><i class="fa fa-check"></i><b>11.7</b> The Groan Zone (aka the Diamond Participation Model)</a></li>
<li class="chapter" data-level="11.8" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#techniques-to-support-divergent-and-emergent-thinking"><i class="fa fa-check"></i><b>11.8</b> Techniques to support divergent and emergent thinking</a></li>
<li class="chapter" data-level="11.9" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#making-thinking-visible"><i class="fa fa-check"></i><b>11.9</b> Making thinking visible</a></li>
<li class="chapter" data-level="11.10" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#techniques-to-support-convergent-thinking-i.e.-getting-to-agreement"><i class="fa fa-check"></i><b>11.10</b> Techniques to support convergent thinking (i.e., getting to agreement)</a></li>
<li class="chapter" data-level="11.11" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#virtual-meeting-best-practices"><i class="fa fa-check"></i><b>11.11</b> Virtual meeting best practices</a></li>
<li class="chapter" data-level="11.12" data-path="collaboration-designing-and-facilitating-effective-meetings.html"><a href="collaboration-designing-and-facilitating-effective-meetings.html#resources-1"><i class="fa fa-check"></i><b>11.12</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="publication-graphics.html"><a href="publication-graphics.html"><i class="fa fa-check"></i><b>12</b> Publication Graphics</a><ul>
<li class="chapter" data-level="12.1" data-path="publication-graphics.html"><a href="publication-graphics.html#learning-objectives-8"><i class="fa fa-check"></i><b>12.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="12.2" data-path="publication-graphics.html"><a href="publication-graphics.html#overview"><i class="fa fa-check"></i><b>12.2</b> Overview</a><ul>
<li class="chapter" data-level="12.2.1" data-path="publication-graphics.html"><a href="publication-graphics.html#ggplot-vs-base-vs-lattice-vs-xyz"><i class="fa fa-check"></i><b>12.2.1</b> ggplot vs base vs lattice vs XYZ…</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="publication-graphics.html"><a href="publication-graphics.html#setup-1"><i class="fa fa-check"></i><b>12.3</b> Setup</a><ul>
<li class="chapter" data-level="12.3.1" data-path="publication-graphics.html"><a href="publication-graphics.html#load-salmon-escapement-data"><i class="fa fa-check"></i><b>12.3.1</b> Load salmon escapement data</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="publication-graphics.html"><a href="publication-graphics.html#static-figures-using-ggplot2"><i class="fa fa-check"></i><b>12.4</b> Static figures using <code>ggplot2</code></a><ul>
<li class="chapter" data-level="12.4.1" data-path="publication-graphics.html"><a href="publication-graphics.html#setting-ggplot-themes"><i class="fa fa-check"></i><b>12.4.1</b> Setting ggplot themes</a></li>
<li class="chapter" data-level="12.4.2" data-path="publication-graphics.html"><a href="publication-graphics.html#smarter-tick-labels-using-scales"><i class="fa fa-check"></i><b>12.4.2</b> Smarter tick labels using <code>scales</code></a></li>
<li class="chapter" data-level="12.4.3" data-path="publication-graphics.html"><a href="publication-graphics.html#creating-multiple-plots"><i class="fa fa-check"></i><b>12.4.3</b> Creating multiple plots</a></li>
<li class="chapter" data-level="12.4.4" data-path="publication-graphics.html"><a href="publication-graphics.html#several-plots-one-figure"><i class="fa fa-check"></i><b>12.4.4</b> Several plots, one figure</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="publication-graphics.html"><a href="publication-graphics.html#interactive-visualization-using-leaflet-and-dt"><i class="fa fa-check"></i><b>12.5</b> Interactive visualization using <code>leaflet</code> and <code>DT</code></a><ul>
<li class="chapter" data-level="12.5.1" data-path="publication-graphics.html"><a href="publication-graphics.html#tables"><i class="fa fa-check"></i><b>12.5.1</b> Tables</a></li>
<li class="chapter" data-level="12.5.2" data-path="publication-graphics.html"><a href="publication-graphics.html#maps"><i class="fa fa-check"></i><b>12.5.2</b> Maps</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="publication-graphics.html"><a href="publication-graphics.html#resources-2"><i class="fa fa-check"></i><b>12.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="getting-the-most-out-of-collaborative-science.html"><a href="getting-the-most-out-of-collaborative-science.html"><i class="fa fa-check"></i><b>13</b> Getting the Most out of Collaborative Science</a><ul>
<li class="chapter" data-level="13.1" data-path="getting-the-most-out-of-collaborative-science.html"><a href="getting-the-most-out-of-collaborative-science.html#learning-objectives-9"><i class="fa fa-check"></i><b>13.1</b> Learning objectives</a></li>
<li class="chapter" data-level="13.2" data-path="getting-the-most-out-of-collaborative-science.html"><a href="getting-the-most-out-of-collaborative-science.html#aligning-around-shared-purpose-and-a-clear-work-plan"><i class="fa fa-check"></i><b>13.2</b> Aligning around shared purpose and a clear work plan</a></li>
<li class="chapter" data-level="13.3" data-path="getting-the-most-out-of-collaborative-science.html"><a href="getting-the-most-out-of-collaborative-science.html#culture-and-leadership"><i class="fa fa-check"></i><b>13.3</b> Culture and leadership</a></li>
<li class="chapter" data-level="13.4" data-path="getting-the-most-out-of-collaborative-science.html"><a href="getting-the-most-out-of-collaborative-science.html#traditional-and-network-mindsets"><i class="fa fa-check"></i><b>13.4</b> Traditional and network mindsets</a></li>
<li class="chapter" data-level="13.5" data-path="getting-the-most-out-of-collaborative-science.html"><a href="getting-the-most-out-of-collaborative-science.html#resources-3"><i class="fa fa-check"></i><b>13.5</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="navigating-challenges-in-collaborative-science.html"><a href="navigating-challenges-in-collaborative-science.html"><i class="fa fa-check"></i><b>14</b> Navigating Challenges in Collaborative Science</a><ul>
<li class="chapter" data-level="14.1" data-path="navigating-challenges-in-collaborative-science.html"><a href="navigating-challenges-in-collaborative-science.html#learning-objectives-10"><i class="fa fa-check"></i><b>14.1</b> Learning objectives</a></li>
<li class="chapter" data-level="14.2" data-path="navigating-challenges-in-collaborative-science.html"><a href="navigating-challenges-in-collaborative-science.html#authorship-and-credit"><i class="fa fa-check"></i><b>14.2</b> Authorship and credit</a></li>
<li class="chapter" data-level="14.3" data-path="navigating-challenges-in-collaborative-science.html"><a href="navigating-challenges-in-collaborative-science.html#data-sharing"><i class="fa fa-check"></i><b>14.3</b> Data sharing</a></li>
<li class="chapter" data-level="14.4" data-path="navigating-challenges-in-collaborative-science.html"><a href="navigating-challenges-in-collaborative-science.html#resources-4"><i class="fa fa-check"></i><b>14.4</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html"><i class="fa fa-check"></i><b>15</b> Coding best practices and tips</a><ul>
<li class="chapter" data-level="15.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#scripting-languages"><i class="fa fa-check"></i><b>15.1</b> Scripting languages</a><ul>
<li class="chapter" data-level="15.1.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#dont-start-coding-without-planning"><i class="fa fa-check"></i><b>15.1.1</b> Don’t start coding without planning!</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#structure-of-a-script"><i class="fa fa-check"></i><b>15.2</b> Structure of a script</a><ul>
<li class="chapter" data-level="15.2.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#few-important-principles"><i class="fa fa-check"></i><b>15.2.1</b> Few important principles</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#functions"><i class="fa fa-check"></i><b>15.3</b> Functions</a><ul>
<li class="chapter" data-level="15.3.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#defining-a-function"><i class="fa fa-check"></i><b>15.3.1</b> Defining a function</a></li>
<li class="chapter" data-level="15.3.2" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#r-function-definition"><i class="fa fa-check"></i><b>15.3.2</b> R function definition</a></li>
<li class="chapter" data-level="15.3.3" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#calling-a-function"><i class="fa fa-check"></i><b>15.3.3</b> Calling a function</a></li>
<li class="chapter" data-level="15.3.4" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#challenge"><i class="fa fa-check"></i><b>15.3.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#scope-global-vs.local-environment"><i class="fa fa-check"></i><b>15.4</b> Scope: Global vs. Local Environment</a><ul>
<li class="chapter" data-level="15.4.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#challenge-1"><i class="fa fa-check"></i><b>15.4.1</b> Challenge</a></li>
<li class="chapter" data-level="15.4.2" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#one-last-one"><i class="fa fa-check"></i><b>15.4.2</b> One last one</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#note-about-loading-libraries-in-r"><i class="fa fa-check"></i><b>15.5</b> Note about loading libraries in R</a><ul>
<li class="chapter" data-level="15.5.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#namespace"><i class="fa fa-check"></i><b>15.5.1</b> Namespace</a></li>
<li class="chapter" data-level="15.5.2" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#challenge-2"><i class="fa fa-check"></i><b>15.5.2</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#solutions-to-function-challenge"><i class="fa fa-check"></i><b>15.6</b> Solutions to function challenge</a><ul>
<li class="chapter" data-level="15.6.1" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#first-function-task"><i class="fa fa-check"></i><b>15.6.1</b> First function task</a></li>
<li class="chapter" data-level="15.6.2" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#second-function-task"><i class="fa fa-check"></i><b>15.6.2</b> Second function task</a></li>
<li class="chapter" data-level="15.6.3" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#third-function-task"><i class="fa fa-check"></i><b>15.6.3</b> Third function task</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="coding-best-practices-and-tips.html"><a href="coding-best-practices-and-tips.html#references-1"><i class="fa fa-check"></i><b>15.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html"><i class="fa fa-check"></i><b>16</b> Best Practices: Data and Metadata</a><ul>
<li class="chapter" data-level="16.1" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#learning-objectives-11"><i class="fa fa-check"></i><b>16.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="16.2" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#preserving-computational-workflows"><i class="fa fa-check"></i><b>16.2</b> Preserving computational workflows</a></li>
<li class="chapter" data-level="16.3" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#best-practices-overview"><i class="fa fa-check"></i><b>16.3</b> Best Practices: Overview</a></li>
<li class="chapter" data-level="16.4" data-path="best-practices-data-and-metadata.html"><a href="best-practices-data-and-metadata.html#organizing-data-best-practices"><i class="fa fa-check"></i><b>16.4</b> Organizing Data: Best Practices</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html"><i class="fa fa-check"></i><b>17</b> Spatial vector analysis using <code>sf</code></a><ul>
<li class="chapter" data-level="17.1" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#learning-objectives-12"><i class="fa fa-check"></i><b>17.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="17.2" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#introduction-1"><i class="fa fa-check"></i><b>17.2</b> Introduction</a></li>
<li class="chapter" data-level="17.3" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#reading-a-shapefile"><i class="fa fa-check"></i><b>17.3</b> Reading a shapefile</a><ul>
<li class="chapter" data-level="17.3.1" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#setup-2"><i class="fa fa-check"></i><b>17.3.1</b> Setup</a></li>
<li class="chapter" data-level="17.3.2" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#coordinate-reference-system"><i class="fa fa-check"></i><b>17.3.2</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="17.3.3" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#attributes"><i class="fa fa-check"></i><b>17.3.3</b> Attributes</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#sf-the-tidyverse"><i class="fa fa-check"></i><b>17.4</b> <code>sf</code> &amp; the Tidyverse</a><ul>
<li class="chapter" data-level="17.4.1" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#joins"><i class="fa fa-check"></i><b>17.4.1</b> Joins</a></li>
<li class="chapter" data-level="17.4.2" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#group-and-summarize"><i class="fa fa-check"></i><b>17.4.2</b> Group and summarize</a></li>
<li class="chapter" data-level="17.4.3" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#save"><i class="fa fa-check"></i><b>17.4.3</b> Save</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#visualize-with-ggplot"><i class="fa fa-check"></i><b>17.5</b> Visualize with ggplot</a></li>
<li class="chapter" data-level="17.6" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#incorporate-base-maps-into-static-maps-using-ggmap"><i class="fa fa-check"></i><b>17.6</b> Incorporate base maps into static maps using <code>ggmap</code></a></li>
<li class="chapter" data-level="17.7" data-path="spatial-vector-analysis-using-sf.html"><a href="spatial-vector-analysis-using-sf.html#visualize-sf-objects-with-leaflet"><i class="fa fa-check"></i><b>17.7</b> Visualize <code>sf</code> objects with leaflet</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="raster-analysis.html"><a href="raster-analysis.html"><i class="fa fa-check"></i><b>18</b> Raster Analysis</a><ul>
<li class="chapter" data-level="18.1" data-path="raster-analysis.html"><a href="raster-analysis.html#learning-objectives-13"><i class="fa fa-check"></i><b>18.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="18.2" data-path="raster-analysis.html"><a href="raster-analysis.html#introduction-2"><i class="fa fa-check"></i><b>18.2</b> Introduction</a><ul>
<li class="chapter" data-level="18.2.1" data-path="raster-analysis.html"><a href="raster-analysis.html#raster-file-formats"><i class="fa fa-check"></i><b>18.2.1</b> Raster File Formats</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="raster-analysis.html"><a href="raster-analysis.html#the-raster-package"><i class="fa fa-check"></i><b>18.3</b> The <code>raster</code> Package</a><ul>
<li class="chapter" data-level="18.3.1" data-path="raster-analysis.html"><a href="raster-analysis.html#plotting"><i class="fa fa-check"></i><b>18.3.1</b> Plotting</a></li>
<li class="chapter" data-level="18.3.2" data-path="raster-analysis.html"><a href="raster-analysis.html#calculation-with-raster"><i class="fa fa-check"></i><b>18.3.2</b> Calculation with raster</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="raster-analysis.html"><a href="raster-analysis.html#other-thoughts-1"><i class="fa fa-check"></i><b>18.4</b> Other Thoughts</a><ul>
<li class="chapter" data-level="18.4.1" data-path="raster-analysis.html"><a href="raster-analysis.html#raster-processing-can-be-slow"><i class="fa fa-check"></i><b>18.4.1</b> Raster processing can be slow</a></li>
<li class="chapter" data-level="18.4.2" data-path="raster-analysis.html"><a href="raster-analysis.html#preprocessing-we-did"><i class="fa fa-check"></i><b>18.4.2</b> Preprocessing we did</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="raster-analysis.html"><a href="raster-analysis.html#references-2"><i class="fa fa-check"></i><b>18.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="finding-help.html"><a href="finding-help.html"><i class="fa fa-check"></i><b>19</b> Finding help</a><ul>
<li class="chapter" data-level="19.1" data-path="finding-help.html"><a href="finding-help.html#from-within-r"><i class="fa fa-check"></i><b>19.1</b> From within R</a></li>
<li class="chapter" data-level="19.2" data-path="finding-help.html"><a href="finding-help.html#task-views"><i class="fa fa-check"></i><b>19.2</b> Task views</a></li>
<li class="chapter" data-level="19.3" data-path="finding-help.html"><a href="finding-help.html#rstudio-website"><i class="fa fa-check"></i><b>19.3</b> RStudio Website</a></li>
<li class="chapter" data-level="19.4" data-path="finding-help.html"><a href="finding-help.html#solving-problems"><i class="fa fa-check"></i><b>19.4</b> Solving problems</a><ul>
<li class="chapter" data-level="19.4.1" data-path="finding-help.html"><a href="finding-help.html#do-it-yourself"><i class="fa fa-check"></i><b>19.4.1</b> Do it yourself</a></li>
<li class="chapter" data-level="19.4.2" data-path="finding-help.html"><a href="finding-help.html#search-forums-blogs"><i class="fa fa-check"></i><b>19.4.2</b> Search Forums, blogs, …</a></li>
<li class="chapter" data-level="19.4.3" data-path="finding-help.html"><a href="finding-help.html#posting-a-question"><i class="fa fa-check"></i><b>19.4.3</b> Posting a question</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="finding-help.html"><a href="finding-help.html#communities"><i class="fa fa-check"></i><b>19.5</b> Communities</a></li>
<li class="chapter" data-level="19.6" data-path="finding-help.html"><a href="finding-help.html#nceas"><i class="fa fa-check"></i><b>19.6</b> NCEAS</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science and Collaboration Skills for Integrative Conservation Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="raster-analysis" class="section level1">
<h1><span class="header-section-number">18</span> Raster Analysis</h1>
<div id="learning-objectives-13" class="section level2">
<h2><span class="header-section-number">18.1</span> Learning Objectives</h2>
<p>In this lesson, you will learn:</p>
<ul>
<li>How to use the <code>raster</code> package to import geospatial data</li>
<li>how to combine raster and vector to conduct geospatial analysis in <code>R</code></li>
</ul>
</div>
<div id="introduction-2" class="section level2">
<h2><span class="header-section-number">18.2</span> Introduction</h2>
<p>We just have seen how to conduct spatial analysis in R using <strong>vector</strong> data. There is a second categories of geospatial data: <strong>raster</strong> data.</p>
<p><img src="images/raster-vs-vector.png" /></p>
<p>In a nutshell, raster data is a matrix of cells (or pixels) organized into rows and columns. Each cell / pixels stores a value. Satellite imagery, aerial imagery and radar from Earth Observation Systems are a great source of environmental data.</p>
<p><img src="images/raster-cell.png" /></p>
<p>As discussed in the previous section, raster will have a Coordinate Reference System (CRS) defining the mathematical formula used to used to define the position of the raster pixels on earth. Few extra terms you might hear when talking about raster:</p>
<ul>
<li>The <strong>spatial resolution</strong> of a raster refers to the size of a pixel. It is often defined as one number (e.g. 30m) assuming the pixels are squares; However it is not a requirement and pixels can be rectangular (have edges of different length).</li>
<li>The <strong>extent</strong> of a raster refers to the area on Earth that is covered by the entire raster. It be defined in many ways, but it will often be defined using a specific corner, the pixel size, and the number of pixels along the x and y dimensions.</li>
<li>The number of <em>bands</em> of a raster refers to a set of images over the same area but with value corresponding to different “bands” of the electromagnetic spectrum. For example, a typical RGB image will be made of 3: Red, Green, Blue. Often you want to stack those images to conduct an analysis as the area of observation matched perfectly. Satellite and other sensors can of course capture information far beyond the visible part of the electromagnetic spectrum.</li>
</ul>
<p><img src="images/rgb-stack.png" /></p>
<div id="raster-file-formats" class="section level3">
<h3><span class="header-section-number">18.2.1</span> Raster File Formats</h3>
<p>As vector data, raster data comes in various file formats:</p>
<div id="tiffgeotiff" class="section level4">
<h4><span class="header-section-number">18.2.1.1</span> <code>TIFF/GeoTIFF</code></h4>
<p><code>TIFF/GeoTIFF</code> are probably the most common raster formats. GeoTIFFs consist of one file with a specific header that encapsulates the geospatial information. There is a second way to add geospatial information to a TIFF file by adding an extra “world” file <code>.tfw</code> with the same name as the TIFF file. This <code>.tfw</code> is a simple text file that defines various parameters to define the raster geospatial information.</p>
</div>
<div id="img" class="section level4">
<h4><span class="header-section-number">18.2.1.2</span> <code>IMG</code></h4>
<p>This is a proprietary form from the remote sensing software ERDAS Imagine. It has the advantage to be able to store multiple bands in one file and also to have great compression capacity.</p>
</div>
<div id="netcdf" class="section level4">
<h4><span class="header-section-number">18.2.1.3</span> <code>NetCDF</code></h4>
<p>The Network Common Data Form, or netCDF, is an interface to a library of data access functions for storing and retrieving data in the form of arrays. A Subset of this format, the Hierarchical data format (HDF4 or HDF5), is a format that is often used by satellite imagery data providers. Through its great handling of multidimensional data, it can be used to store both space and time information.</p>
<p>One word on ESRI geospatial database storing raster data: it is unfortunately to sue R to read this data format. <strong>R relies on <a href="https://www.osgeo.org/choose-a-project/development/libraries/">open source libraries</a> to import and process geospatial data</strong> (GDAL, GEOS, PROJ, …), and ESRI has not yet opened this data format to those libraries.</p>
</div>
</div>
</div>
<div id="the-raster-package" class="section level2">
<h2><span class="header-section-number">18.3</span> The <code>raster</code> Package</h2>
<p>The raster package is THE package in R to import and process raster data. It can handle many of the formats mentioned above and more.</p>
<p>To import a raster in R, you will use the <code>raster</code> function for a single band raster. For multi-band raster, you can use the <code>brick()</code> function instead.</p>
<p>For this example, we are going to read a land cover map of Alaska from the The Multi-Resolution Land Characteristics (<a href="https://www.mrlc.gov">MRLC</a>) consortium.</p>
<p>The original file was quite large quite large (~8GB), so we have already resampled to a lower spatial resolution of 50m and saved it in a shared directory on the server.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb235-2" data-line-number="2"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb235-3" data-line-number="3"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb235-4" data-line-number="4"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb235-5" data-line-number="5"><span class="kw">library</span>(curl)</a>
<a class="sourceLine" id="cb235-6" data-line-number="6"><span class="kw">library</span>(scales)</a>
<a class="sourceLine" id="cb235-7" data-line-number="7"></a>
<a class="sourceLine" id="cb235-8" data-line-number="8"></a>
<a class="sourceLine" id="cb235-9" data-line-number="9"><span class="co"># House keeping to setup data from the vector chapter</span></a>
<a class="sourceLine" id="cb235-10" data-line-number="10">ak_regions &lt;-<span class="st"> </span><span class="kw">read_sf</span>(<span class="st">&quot;data/shapefiles/ak_regions_simp.shp&quot;</span>)</a>
<a class="sourceLine" id="cb235-11" data-line-number="11"></a>
<a class="sourceLine" id="cb235-12" data-line-number="12">ak_regions_<span class="dv">3338</span> &lt;-<span class="st"> </span>ak_regions <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb235-13" data-line-number="13"><span class="st">  </span><span class="kw">st_transform</span>(<span class="dt">crs =</span> <span class="dv">3338</span>)</a>
<a class="sourceLine" id="cb235-14" data-line-number="14"></a>
<a class="sourceLine" id="cb235-15" data-line-number="15">pop &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/shapefiles/alaska_population.csv&quot;</span>)</a>
<a class="sourceLine" id="cb235-16" data-line-number="16"></a>
<a class="sourceLine" id="cb235-17" data-line-number="17">pop_<span class="dv">4326</span> &lt;-<span class="st"> </span><span class="kw">st_as_sf</span>(pop, </a>
<a class="sourceLine" id="cb235-18" data-line-number="18">                  <span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&#39;lng&#39;</span>, <span class="st">&#39;lat&#39;</span>),</a>
<a class="sourceLine" id="cb235-19" data-line-number="19">                  <span class="dt">crs =</span> <span class="dv">4326</span>,</a>
<a class="sourceLine" id="cb235-20" data-line-number="20">                  <span class="dt">remove =</span> F)</a>
<a class="sourceLine" id="cb235-21" data-line-number="21"></a>
<a class="sourceLine" id="cb235-22" data-line-number="22">pop_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">st_transform</span>(pop_<span class="dv">4326</span>, <span class="dt">crs =</span> <span class="dv">3338</span>)</a>
<a class="sourceLine" id="cb235-23" data-line-number="23"></a>
<a class="sourceLine" id="cb235-24" data-line-number="24">pop_joined &lt;-<span class="st"> </span><span class="kw">st_join</span>(pop_<span class="dv">3338</span>, ak_regions_<span class="dv">3338</span>, <span class="dt">join =</span> st_within)</a></code></pre></div>
<p>Let us now read this raster into R:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1">lc_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">raster</span>(<span class="st">&quot;/home/shares/scientist/ds-workshop/ak_nlcd_2011_landcover_50m_3338.tif&quot;</span>)</a></code></pre></div>
<p>Look at the raster:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb237-1" data-line-number="1">lc_<span class="dv">3338</span></a></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 40716, 74552, 3035459232  (nrow, ncol, ncell)
## resolution : 50, 50  (x, y)
## extent     : -2232595, 1495005, 344575, 2380375  (xmin, xmax, ymin, ymax)
## crs        : +proj=aea +lat_1=55 +lat_2=65 +lat_0=50 +lon_0=-154 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
## source     : /tmp/RtmpakeRBa/file49ed3b556455 
## names      : file49ed3b556455 
## values     : 0, 95  (min, max)</code></pre>
<p>It is always good to check if everything aligns well:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb239-1" data-line-number="1"><span class="kw">plot</span>(lc_<span class="dv">3338</span>)</a>
<a class="sourceLine" id="cb239-2" data-line-number="2"><span class="kw">plot</span>(pop_<span class="dv">3338</span>, <span class="dt">add=</span><span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="snapp-training_files/figure-html/unnamed-chunk-114-1.png" width="672" />
### Extracting information from raster</p>
<p>OK, everything looks good. Now we want to find the most frequent land cover within a radius of 500m. To do so we can use the <code>extract</code> function. This function can handle, the buffering and even have a modal function that will let us find the mode.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="co"># Compute the most frequent land cover type around the population</span></a>
<a class="sourceLine" id="cb240-2" data-line-number="2">raster_points &lt;-<span class="st"> </span><span class="kw">extract</span>(lc_<span class="dv">3338</span>, pop_<span class="dv">3338</span>, <span class="dt">buffer=</span><span class="dv">500</span>, <span class="dt">fun=</span>modal)</a>
<a class="sourceLine" id="cb240-3" data-line-number="3"></a>
<a class="sourceLine" id="cb240-4" data-line-number="4"><span class="co"># Add those values to our data</span></a>
<a class="sourceLine" id="cb240-5" data-line-number="5">pop_joined<span class="op">$</span>land_cover &lt;-<span class="st"> </span>raster_points</a></code></pre></div>
<p>Note that I am using <code>500</code> for the buffer radius because we know the unit is meter from the projection definition: <code>crs        : +proj=aea +lat_0=50 +lon_0=-154 +lat_1=55 +lat_2=65 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 **+units=m**</code>.</p>
<p>At this point, we only have the values for this raster and do not know yet what are the corresponding land covers. Luckily we can look at the metadata here: <a href="https://www.mrlc.gov/data/legends/national-land-cover-database-2011-nlcd2011-legend" class="uri">https://www.mrlc.gov/data/legends/national-land-cover-database-2011-nlcd2011-legend</a></p>
<p>This not a super friendly format. We have already processed this information (see the end of this chapter to learn how) and stored it in a csv:</p>
<pre><code>##    ID      COUNT Red Green Blue              Land.Cover.Type
## 1   0 6539917102   0     0    0                 Unclassified
## 2  11  267506887  71   107  161                   Open Water
## 3  12   77582023 209   222  250           Perennial Ice/Snow
## 4  21     383719 222   202  202        Developed, Open Space
## 5  22    1080686 217   148  130     Developed, Low Intensity
## 6  23     145477 238     0    0  Developed, Medium Intensity
## 7  24      52478 171     0    0    Developed, High Intensity
## 8  31  146969306 179   174  163                  Barren Land
## 9  41   61258881 104   171   99             Deciduous Forest
## 10 42  259612828  28    99   48             Evergreen Forest
## 11 43   61771547 181   202  143                 Mixed Forest
## 12 51  322951293 166   140   48                  Dwarf Shrub
## 13 52  426246570 204   186  125                  Shrub/Scrub
## 14 71   32455056 227   227  194         Grassland/Herbaceous
## 15 72  107796396 202   202  120             Sedge/Herbaceous
## 16 74     582776 120   174  148                         Moss
## 17 81      51213 220   217   61                  Pasture/Hay
## 18 82     319495 171   112   40             Cultivated Crops
## 19 90   65732442 186   217  235               Woody Wetlands
## 20 95   56251009 112   163  186 Emergent Herbaceous Wetlands</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="co"># Read the land cover legend</span></a>
<a class="sourceLine" id="cb242-2" data-line-number="2">Legend_lc &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;/home/shares/scientist/ds-workshop/legend_ak_nlcd_2011.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb242-3" data-line-number="3">Legend_lc</a></code></pre></div>
<p>Now we can join this information to our main data frame and since the categories are pretty detailed, we will also aggregate them to a coarser level of information:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb243-1" data-line-number="1"><span class="co"># It is a lot of categories, let us consolidate this</span></a>
<a class="sourceLine" id="cb243-2" data-line-number="2">Legend_lc &lt;-<span class="st"> </span>Legend_lc <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb243-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">main_lc =</span> <span class="kw">ifelse</span>(ID <span class="op">%in%</span><span class="st"> </span><span class="dv">40</span><span class="op">:</span><span class="dv">49</span>, <span class="st">&quot;Forest&quot;</span>,</a>
<a class="sourceLine" id="cb243-4" data-line-number="4">                              <span class="kw">ifelse</span>(ID <span class="op">%in%</span><span class="st"> </span><span class="dv">20</span><span class="op">:</span><span class="dv">29</span>, <span class="st">&quot;Urban&quot;</span>,</a>
<a class="sourceLine" id="cb243-5" data-line-number="5">                                     <span class="kw">ifelse</span>(ID <span class="op">%in%</span><span class="st"> </span><span class="dv">50</span><span class="op">:</span><span class="dv">59</span>, <span class="st">&quot;Shrub&quot;</span>,</a>
<a class="sourceLine" id="cb243-6" data-line-number="6">                                             <span class="kw">ifelse</span>(ID <span class="op">%in%</span><span class="st"> </span><span class="dv">70</span><span class="op">:</span><span class="dv">79</span>, <span class="st">&quot;Grass&quot;</span>,</a>
<a class="sourceLine" id="cb243-7" data-line-number="7">                                                     <span class="kw">ifelse</span>(ID <span class="op">%in%</span><span class="st"> </span><span class="dv">80</span><span class="op">:</span><span class="dv">89</span>, <span class="st">&quot;Crops&quot;</span>,</a>
<a class="sourceLine" id="cb243-8" data-line-number="8">                                                             <span class="kw">ifelse</span>(ID <span class="op">%in%</span><span class="st"> </span><span class="dv">90</span><span class="op">:</span><span class="dv">99</span>, <span class="st">&quot;Wetland&quot;</span>, Land.Cover.Type)</a>
<a class="sourceLine" id="cb243-9" data-line-number="9">                                                             )</a>
<a class="sourceLine" id="cb243-10" data-line-number="10">                                                     )</a>
<a class="sourceLine" id="cb243-11" data-line-number="11">                                             )</a>
<a class="sourceLine" id="cb243-12" data-line-number="12">                                     )</a>
<a class="sourceLine" id="cb243-13" data-line-number="13">                              )</a>
<a class="sourceLine" id="cb243-14" data-line-number="14">  )</a>
<a class="sourceLine" id="cb243-15" data-line-number="15"></a>
<a class="sourceLine" id="cb243-16" data-line-number="16"></a>
<a class="sourceLine" id="cb243-17" data-line-number="17"><span class="co"># Join the LC categories to the population data</span></a>
<a class="sourceLine" id="cb243-18" data-line-number="18">pop_<span class="dv">3338</span>_cover &lt;-<span class="st"> </span><span class="kw">left_join</span>(pop_joined, Legend_lc, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;land_cover&quot;</span>=<span class="st">&quot;ID&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb243-19" data-line-number="19"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>Red, <span class="op">-</span>Green, <span class="op">-</span>Blue, <span class="op">-</span>Land.Cover.Type)</a></code></pre></div>
<div id="plotting" class="section level3">
<h3><span class="header-section-number">18.3.1</span> Plotting</h3>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="co"># Create color palette by keeping last color of each group</span></a>
<a class="sourceLine" id="cb244-2" data-line-number="2">pal &lt;-<span class="st"> </span>Legend_lc <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(main_lc) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-4" data-line-number="4"><span class="st">  </span><span class="kw">slice</span>(<span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Keeping the last color of the groups</span></a>
<a class="sourceLine" id="cb244-5" data-line-number="5"><span class="st">  </span>ungroup <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-6" data-line-number="6"><span class="st">  </span><span class="kw">arrange</span>(ID) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb244-7" data-line-number="7"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">color_hex =</span> <span class="kw">rgb</span>(Red, Green, Blue, <span class="dt">max =</span> <span class="dv">255</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-8" data-line-number="8"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(main_lc, color_hex)</a>
<a class="sourceLine" id="cb244-9" data-line-number="9"></a>
<a class="sourceLine" id="cb244-10" data-line-number="10"><span class="co"># turn pallete into a list for plotting</span></a>
<a class="sourceLine" id="cb244-11" data-line-number="11">pal_list &lt;-<span class="st"> </span>pal<span class="op">$</span>color_hex</a>
<a class="sourceLine" id="cb244-12" data-line-number="12"><span class="kw">names</span>(pal_list) &lt;-<span class="st"> </span>pal<span class="op">$</span>main_lc</a>
<a class="sourceLine" id="cb244-13" data-line-number="13"></a>
<a class="sourceLine" id="cb244-14" data-line-number="14"></a>
<a class="sourceLine" id="cb244-15" data-line-number="15"><span class="co"># Plot by region</span></a>
<a class="sourceLine" id="cb244-16" data-line-number="16"><span class="kw">ggplot</span>(pop_<span class="dv">3338</span>_cover, <span class="kw">aes</span>(region, population, <span class="dt">fill =</span> main_lc)) <span class="op">+</span></a>
<a class="sourceLine" id="cb244-17" data-line-number="17"><span class="st">    </span><span class="kw">geom_col</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb244-18" data-line-number="18"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> comma) <span class="op">+</span></a>
<a class="sourceLine" id="cb244-19" data-line-number="19"><span class="st">    </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> pal_list) <span class="op">+</span></a>
<a class="sourceLine" id="cb244-20" data-line-number="20"><span class="st">    </span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb244-21" data-line-number="21"><span class="st">    </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb244-22" data-line-number="22"><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Land cover type by region and population&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb244-23" data-line-number="23"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Population&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;&quot;</span>)</a></code></pre></div>
<p><img src="snapp-training_files/figure-html/unnamed-chunk-119-1.png" width="672" /></p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" data-line-number="1"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb245-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> ak_regions_<span class="dv">3338</span>, <span class="kw">aes</span>(), <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> pop_<span class="dv">3338</span>_cover, <span class="kw">aes</span>(<span class="dt">color =</span> main_lc,</a>
<a class="sourceLine" id="cb245-4" data-line-number="4">                                       <span class="dt">size =</span> population), <span class="dt">show.legend =</span> <span class="st">&quot;point&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-5" data-line-number="5"><span class="st">    </span><span class="kw">scale_size_continuous</span>(<span class="dt">guide =</span> F) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-6" data-line-number="6"><span class="st">    </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> pal_list) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-7" data-line-number="7"><span class="st">    </span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb245-8" data-line-number="8"><span class="st">    </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, <span class="dt">legend.title =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<p><img src="snapp-training_files/figure-html/unnamed-chunk-120-1.png" width="672" /></p>
</div>
<div id="calculation-with-raster" class="section level3">
<h3><span class="header-section-number">18.3.2</span> Calculation with raster</h3>
<p>A Very useful function of the <code>raster</code> package is the function <code>calc</code>. As the name suggest this function helps you to do computation on raster. Continuing our example above, we want to compute a percentage of area that is forest.</p>
<p>Let us first select a region of interest:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1">copper_region_<span class="dv">3338</span> &lt;-<span class="st"> </span>ak_regions_<span class="dv">3338</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb246-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(region <span class="op">==</span><span class="st"> &quot;Copper River&quot;</span>)</a></code></pre></div>
<p>Crop the raster using the region:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" data-line-number="1">copper_lc_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">crop</span>(lc_<span class="dv">3338</span>, copper_region_<span class="dv">3338</span>)</a>
<a class="sourceLine" id="cb247-2" data-line-number="2"></a>
<a class="sourceLine" id="cb247-3" data-line-number="3"><span class="kw">plot</span>(copper_lc_<span class="dv">3338</span>)</a></code></pre></div>
<p><img src="snapp-training_files/figure-html/unnamed-chunk-122-1.png" width="672" /></p>
<p>The way <code>calc</code> works is that you need to create a function to be applied to the raster using <code>calc</code>. Here is the function we will use create a binary mask for forest:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1"><span class="co"># Function to create a binary mask for forest </span></a>
<a class="sourceLine" id="cb248-2" data-line-number="2">forest_masker &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb248-3" data-line-number="3">  x[x<span class="op">&lt;</span><span class="dv">40</span> <span class="op">|</span><span class="st"> </span>x<span class="op">&gt;</span><span class="dv">49</span>] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb248-4" data-line-number="4">  x[x<span class="op">&gt;=</span><span class="dv">40</span> <span class="op">&amp;</span><span class="st"> </span>x<span class="op">&lt;=</span><span class="dv">49</span>] &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb248-5" data-line-number="5">  x</a>
<a class="sourceLine" id="cb248-6" data-line-number="6">}</a></code></pre></div>
<p>Now we can use the <code>calc</code> function to apply this function to every pixels:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" data-line-number="1">copper_forested &lt;-<span class="st"> </span><span class="kw">calc</span>(copper_lc_<span class="dv">3338</span>, forest_masker)</a>
<a class="sourceLine" id="cb249-2" data-line-number="2"><span class="kw">plot</span>(copper_forested)</a></code></pre></div>
<p><img src="snapp-training_files/figure-html/unnamed-chunk-124-1.png" width="672" /></p>
<p>As previously, we can now use the <code>extract</code> function to count the number of forested pixels:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1"><span class="co"># Filter the population data for the copper region</span></a>
<a class="sourceLine" id="cb250-2" data-line-number="2">copper_pop_<span class="dv">3338</span> &lt;-<span class="st"> </span>pop_<span class="dv">3338</span>_cover <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb250-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(region <span class="op">==</span><span class="st"> &quot;Copper River&quot;</span>)</a>
<a class="sourceLine" id="cb250-4" data-line-number="4"></a>
<a class="sourceLine" id="cb250-5" data-line-number="5"><span class="co"># Use those locations to extract the number of pixels wth forest</span></a>
<a class="sourceLine" id="cb250-6" data-line-number="6">forested_count &lt;-<span class="st"> </span><span class="kw">extract</span>(copper_forested, copper_pop_<span class="dv">3338</span>, <span class="dt">buffer=</span><span class="dv">500</span>, <span class="dt">fun=</span>sum)</a></code></pre></div>
<p>Adding the values back to the main data set:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" data-line-number="1">copper_pop_<span class="dv">3338</span><span class="op">$</span>forest_cov &lt;-<span class="st"> </span><span class="dv">100</span> <span class="op">*</span><span class="st"> </span>forested_count <span class="op">/</span><span class="st"> </span>(<span class="dv">20</span><span class="op">*</span><span class="dv">20</span>) <span class="co"># 20 pixels within the diameter</span></a>
<a class="sourceLine" id="cb251-2" data-line-number="2"><span class="kw">head</span>(copper_pop_<span class="dv">3338</span>)</a></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 12 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: 356847.6 ymin: 1318282 xmax: 505439 ymax: 1433557
## epsg (SRID):    3338
## proj4string:    +proj=aea +lat_1=55 +lat_2=65 +lat_0=50 +lon_0=-154 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs
##   year             city      lat       lng population region_id       region
## 1 2015      Chistochina 62.57178 -144.6542         59         5 Copper River
## 2 2015          Chitina 61.51583 -144.4369         80         5 Copper River
## 3 2015    Copper Center 61.97696 -145.3297        405         5 Copper River
## 4 2015 Eureka Roadhouse 61.93861 -147.1681          0         5 Copper River
## 5 2015           Gakona 62.30194 -145.3019        205         5 Copper River
## 6 2015       Glennallen 62.10917 -145.5464        366         5 Copper River
##   mgmt_area land_cover     COUNT main_lc                 geometry forest_cov
## 1         2         90  65732442 Wetland   POINT (477473 1433557)       5.25
## 2         2         41  61258881  Forest   POINT (505439 1318282)      49.75
## 3         2         42 259612828  Forest POINT (451821.3 1362933)      65.00
## 4         2         52 426246570   Shrub POINT (356847.6 1347480)      13.00
## 5         2         41  61258881  Forest POINT (448515.1 1399150)      43.50
## 6         2         21    383719   Urban POINT (438715.9 1376141)      33.50</code></pre>
<p>Plotting the percentage of forested area in the 1 km^2 surround of the population centers:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb253-1" data-line-number="1"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb253-2" data-line-number="2"><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> copper_region_<span class="dv">3338</span>, <span class="kw">aes</span>(), <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb253-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> copper_pop_<span class="dv">3338</span>, <span class="kw">aes</span>(<span class="dt">color =</span> forest_cov,</a>
<a class="sourceLine" id="cb253-4" data-line-number="4">                                       <span class="dt">size =</span> population)) <span class="op">+</span></a>
<a class="sourceLine" id="cb253-5" data-line-number="5"><span class="st">    </span><span class="kw">scale_size_continuous</span>(<span class="dt">guide =</span> F) <span class="op">+</span></a>
<a class="sourceLine" id="cb253-6" data-line-number="6"><span class="st">    </span><span class="kw">scale_colour_gradientn</span>(<span class="dt">colours =</span> <span class="kw">terrain.colors</span>(<span class="dv">10</span>, <span class="dt">rev=</span><span class="ot">TRUE</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb253-7" data-line-number="7"><span class="st">    </span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb253-8" data-line-number="8"><span class="st">    </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb253-9" data-line-number="9"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">color =</span> <span class="st">&quot;Percent Forest Cover&quot;</span>)</a></code></pre></div>
<p><img src="snapp-training_files/figure-html/unnamed-chunk-127-1.png" width="672" /></p>
</div>
</div>
<div id="other-thoughts-1" class="section level2">
<h2><span class="header-section-number">18.4</span> Other Thoughts</h2>
<div id="raster-processing-can-be-slow" class="section level3">
<h3><span class="header-section-number">18.4.1</span> Raster processing can be slow</h3>
<p>Processing raster in R is not fast and raster processing can quickly involve large data set. This is especially true when reprojecting large raster. It is therefore also good to learn how to use other tools to do such tasks. <code>gdal</code> at the command line is a great one (see <a href="https://live.osgeo.org/en/quickstart/gdal_quickstart.html#reprojecting">gdalwrap</a>).</p>
<p>It is also very important to process raster the correct way. Before starting the processing of large raster, we strongly recommend you read this information: <a href="https://rspatial.org/raster/appendix1.html" class="uri">https://rspatial.org/raster/appendix1.html</a></p>
</div>
<div id="preprocessing-we-did" class="section level3">
<h3><span class="header-section-number">18.4.2</span> Preprocessing we did</h3>
<p>Actually because the original Land Cover raster was using a <code>img</code> format, it was possible to store more information then the pixel values. This format can handle categorical data and attach extra information, we can get the colors as specified by the data creator as well as the categories corresponding to a specific values. The the raster object in R use a S4 format that allows it to store specific information into slots. You can access these slots using the <code>@</code>. Here how we created the legend csv file you used:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="co"># Read the original raster</span></a>
<a class="sourceLine" id="cb254-2" data-line-number="2">lc &lt;-<span class="st"> </span><span class="kw">raster</span>(<span class="st">&quot;/home/shares/scientist/ds-workshop/LC30/ak_nlcd_2011_landcover_1_15_15.img&quot;</span>)</a>
<a class="sourceLine" id="cb254-3" data-line-number="3"></a>
<a class="sourceLine" id="cb254-4" data-line-number="4"><span class="co"># Look at the table attached</span></a>
<a class="sourceLine" id="cb254-5" data-line-number="5">lc<span class="op">@</span>data<span class="op">@</span>attributes</a>
<a class="sourceLine" id="cb254-6" data-line-number="6"></a>
<a class="sourceLine" id="cb254-7" data-line-number="7"><span class="co"># Remove the value without any pixel</span></a>
<a class="sourceLine" id="cb254-8" data-line-number="8">legend_lc &lt;-<span class="st"> </span>lc<span class="op">@</span>data<span class="op">@</span>attributes[[<span class="dv">1</span>]] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb254-9" data-line-number="9"><span class="st">  </span><span class="kw">filter</span>(COUNT<span class="op">!=</span><span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb254-10" data-line-number="10"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>Opacity)</a>
<a class="sourceLine" id="cb254-11" data-line-number="11"></a>
<a class="sourceLine" id="cb254-12" data-line-number="12"><span class="co"># Write the csv</span></a>
<a class="sourceLine" id="cb254-13" data-line-number="13"><span class="kw">write_csv</span>(legend_lc, <span class="st">&quot;/home/shares/scientist/ds-workshop/legend_ak_nlcd_2011.csv&quot;</span>)</a></code></pre></div>
<p>This is how we reprojected to original data and resampled it to a 50m resolution instead of the 30m. Note that the use the Nearest Neighbor method <code>ngb</code> to compute the new raster as this algorithm keeps the original values</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" data-line-number="1">lc_<span class="dv">3338</span> &lt;-<span class="st"> </span><span class="kw">projectRaster</span>(lc, <span class="dt">crs=</span><span class="kw">crs</span>(ak_regions_<span class="dv">3338</span>), <span class="dt">res=</span><span class="dv">50</span>, <span class="dt">method =</span> <span class="st">&#39;ngb&#39;</span>, <span class="dt">filename=</span><span class="st">&quot;/home/shares/scientist/ds-workshop/ak_nlcd_2011_landcover_50m_3338.tif&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="references-2" class="section level2">
<h2><span class="header-section-number">18.5</span> References</h2>
<p><a href="http://files.zevross.com/workshops/spatial/slides/html/0-deck-list.html">Modern Geospatial Data Analysis in R</a>
<a href="https://geocompr.robinlovelace.net/">Geocomputation with R</a>
<a href="http://jafflerbach.github.io/spatial-analysis-R/intro_spatial_data_R.html">Raster analysis in R</a>
<a href="https://rspatial.org/raster/spatial/index.html">Spatial data science</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="spatial-vector-analysis-using-sf.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="finding-help.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
